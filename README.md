# Чат-додаток з шифруванням RSA

Це захищений чат-додаток, що використовує шифрування RSA для обміну повідомленнями та аутентифікації.

## Автори
- Вікторія Кібєрєва - розробка клієнтської частини
- Олексій - розробка серверної частини

## Вимоги

Перед запуском додатку переконайтесь, що встановлені необхідні бібліотеки:

```bash
pip3 install sympy
```

## Як запустити

### 1. Запуск сервера

Відкрийте термінал і виконайте:

```bash
python3 server.py
```

Ви повинні побачити:
```
[server]: running on 127.0.0.1:9001
```

### 2. Запуск клієнта

Відкрийте нове вікно терміналу для кожного клієнта і виконайте:

```bash
python3 client.py
```

За замовчуванням клієнт підключається до localhost (127.0.0.1) на порт 9001 з ім'ям користувача "b_g".

Ви можете змінити ім'я користувача, IP-адресу сервера та порт у файлі client.py:
```python
if __name__ == "__main__":
    cl = Client("127.0.0.1", 9001, "ваше_ім'я_тут")
    cl.init_connection()
```

### 3. Обмін повідомленнями

Після підключення ви можете друкувати повідомлення в терміналі будь-якого клієнта і натискати Enter для надсилання.
Повідомлення будуть:
- Зашифровані за допомогою RSA
- Надійно передані
- Відображені в усіх інших підключених клієнтах

## Особливості безпеки та реалізація

### Реалізація RSA шифрування

У нашій реалізації:

1. **Генерація ключів**:
   - І сервер, і клієнт генерують пари ключів RSA (публічний та приватний)
   - Використовуються прості числа в діапазоні від 1000 до 5000 для генерації p і q
   - Обчислюється n = p * q та φ(n) = (p-1) * (q-1)
   - Знаходиться e (починаючи з 3), що є взаємно простим з φ(n)
   - Обчислюється d = e^(-1) mod φ(n) (мультиплікативне обернене)

2. **Обмін ключами**:
   - При підключенні клієнта відбувається обмін публічними ключами (e, n)
   - Сервер надсилає свій публічний ключ клієнту
   - Клієнт надсилає свій публічний ключ серверу

3. **Шифрування/дешифрування повідомлень**:
   - Для шифрування: Кожен символ у повідомленні шифрується як c = m^e mod n
   - Для дешифрування: Кожне зашифроване значення дешифрується як m = c^d mod n
   - Зашифровані значення надсилаються як рядки, розділені пробілами

4. **Розповсюдження повідомлень**:
   - Сервер шифрує повідомлення публічним ключем кожного клієнта перед надсиланням
   - Клієнти шифрують повідомлення публічним ключем сервера
   - Це забезпечує наскрізне шифрування, де тільки призначені отримувачі можуть розшифрувати повідомлення

## Усунення несправностей

- Якщо ви отримуєте помилку "Address already in use" при запуску сервера, це означає, що порт вже використовується. Видалення всіх наявних терміналів спрацювало (принаймні в мене)
- Якщо клієнт несподівано відключається, сервер коректно обробляє це.
- Для успішного шифрування переконайтеся, що бібліотека sympy встановлена правильно.
